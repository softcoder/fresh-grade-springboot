<html>
<link rel="stylesheet" type="text/css" href="css/main.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<body>
    <div class="header-container">
        <form id="add_student_form" action="/v1/student-manager/create_fullname" method="post">
        <table class="table-center">
            <tr>
                <td>
                    <table class="table-center">
                    <tr>
                        <td>
                            <a href="/index.html" class="head-blue-left no-decor-link"><span class='left-arrow-blue'><</span>Back</a>
                        </td>
                        <td>
                            <h1 class="head-black">Student Info</h1>
                        </td>
                    </tr>
                    </table>
                </td>        
            </tr>
            <tr>
                <td>
                    <div class="action-container" id="photoFileDiv" name="photoFileDiv">
                        <image class="photo-container" id="photoFile" name="photoFile" src="images/photo-default.png">
                    </div>
                </td>        
            </tr>
            <tr>
                <td>
                    <div class="head-black" id="student_div" name="student_div">
                    </div>
                </td>        
            </tr>

        </table>
    </form>
    </div>

<script>
function getParameterByName(name, url) {
    if (!url) {
      url = window.location.href;
    }
    name = name.replace(/[\[\]]/g, "\\$&");
    var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
        results = regex.exec(url);
    if (!results) return null;
    if (!results[2]) return '';
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

$(document).ready(function() {
    $.ajax({
        url: "/v1/student-manager/find/"+getParameterByName('student_id'),
        success: function ( data ) {
            $("#student_div").append("<span class='student-container-black-left'>"+data.firstName+"</span>")
            $("#student_div").append("<br>")
            $("#student_div").append("<span class='student-container-black-left'>"+data.lastName+"</span>")
            if(data.photo != null) {
                $("#photoFileDiv").html('<img class="photo-container" src="data:image/png;base64,' + data.photo + '" />');
            }
          },
          cache: false
    });
});
</script>

</body>
</html>
